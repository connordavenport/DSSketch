{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üîÑ Convert Current File",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py '${file}'"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Convert currently open .designspace or .dssketch file (requires open file in editor)"
        },
        {
            "label": "üéØ Convert Examples (Quick Demo)",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py examples/KazimirText-Variable.designspace --allow-missing-ufos"],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Quick demo: Convert KazimirText example (default build task)"
        },
        {
            "label": "üìÅ Convert Current File to Custom Location",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py '${file}' -o '${fileBasenameNoExtension}-custom.dssketch'"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Convert open file with -custom suffix (requires open file in editor)"
        },
        {
            "label": "‚ö†Ô∏è Convert Current File (Allow Missing UFOs)",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py '${file}' --allow-missing-ufos"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Convert open file even if UFO files are missing (requires open file)"
        },
        {
            "label": "üö´ Convert Current File (No Validation)",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py '${file}' --no-validation"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Convert open file without UFO validation (not recommended, requires open file)"
        },
        {
            "label": "üìÇ Convert Specific File",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "echo 'Available files:' && ls -1 examples/*.designspace 2>/dev/null || echo 'No .designspace files found in examples/' && echo 'Enter filename (or full path):' && read -r filename && source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py \"$filename\" --allow-missing-ufos"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Convert any file by entering its path interactively"
        },
        {
            "label": "üß™ Test - KazimirText Example",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && python dssketch_cli.py examples/KazimirText-Variable.designspace --allow-missing-ufos"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Test conversion with KazimirText example (allows missing UFOs)"
        },
        {
            "label": "üîÅ Test - Roundtrip Conversion",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && echo '=== Testing Roundtrip Conversion ===' && python dssketch_cli.py examples/KazimirText-Variable.designspace -o roundtrip-test.dssketch --allow-missing-ufos && echo '‚úì Step 1: DesignSpace ‚Üí DSSketch complete' && python dssketch_cli.py roundtrip-test.dssketch -o roundtrip-test.designspace --allow-missing-ufos && echo '‚úì Step 2: DSSketch ‚Üí DesignSpace complete' && echo '‚úÖ Roundtrip conversion successful!' && echo 'Generated files: roundtrip-test.dssketch, roundtrip-test.designspace'"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Full roundtrip conversion test (allows missing UFOs for demo)"
        },
        {
            "label": "üìä Test All Examples",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "source .venv/bin/activate 2>/dev/null || true && echo '=== Testing All Examples ===' && ls examples/*.designspace 2>/dev/null | while read file; do echo \"Testing: $file\"; python dssketch_cli.py \"$file\" -o \"${file%.designspace}-test.dssketch\" --allow-missing-ufos && echo \"‚úÖ $file converted successfully\" || echo \"‚ùå $file conversion failed\"; done && echo '=== Test Complete ==='"],
            "group": "test", 
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Convert all example .designspace files (allows missing UFOs for demo)"
        },
        {
            "label": "üßπ Clean Test Files",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "rm -f *-test.dssketch *-test.designspace roundtrip-test.* temp.* && echo 'üóëÔ∏è All test files cleaned up'"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared", 
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": [],
            "detail": "Clean up all temporary test files"
        }
    ]
}